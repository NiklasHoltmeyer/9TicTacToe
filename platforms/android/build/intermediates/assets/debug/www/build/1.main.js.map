{"version":3,"sources":["../../src/pages/game/game.module.ts","webpack:///./src/components/components.module.ts?570c","webpack:///./src/components/tictactoe/tictactoe.ts?d61f","webpack:///./src/components/time-left-bar/time-left-bar.ts?6cd0","../../src/pages/game/game.ts"],"names":[],"mappings":"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","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { GamePage } from './game';\r\nimport { ComponentsModule } from '../../components/components.module'\r\n\r\n@NgModule({\r\n  declarations: [GamePage],\r\n  imports: [IonicPageModule.forChild(GamePage),ComponentsModule],\r\n  exports: [GamePage]\r\n})\r\nexport class GamePageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/game.module.ts","import { NgModule } from '@angular/core';\r\nimport { TictactoeComponent } from '../components/tictactoe/tictactoe' ;\r\nimport { TimeLeftBarComponent } from  '../components/time-left-bar/time-left-bar' ;\r\nimport { IonicModule } from 'ionic-angular';\r\n@NgModule({\r\n  imports: [IonicModule],\r\n  exports: [TictactoeComponent,TimeLeftBarComponent],\r\n  declarations:[TictactoeComponent,TimeLeftBarComponent],\r\n  providers:[]  \r\n})\r\nexport class ComponentsModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, Input,Output, EventEmitter } from '@angular/core';\r\n\r\n/**\r\n * Generated class for the TictactoeComponent component.\r\n *\r\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n * for more info on Angular Components.\r\n */\r\n@Component({\r\n  selector: 'tictactoe',\r\n  templateUrl: 'tictactoe.html'\r\n})\r\nexport class TictactoeComponent {\r\n  @Input('Index') Index: number; \r\n  @Input('field') field: any;\r\n  @Input('fieldClass') fieldClass: any; // selected || ein spieler hat gewonnen\r\n  @Output() playerClicked = new EventEmitter();\r\n  constructor() {  }\r\n  playerClick(x,y,z){\r\n    console.log(this.fieldClass);\r\n    this.playerClicked.emit([x,y,z]);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tictactoe/tictactoe.ts","import { Component,Input } from '@angular/core';\r\n\r\n/**\r\n * Generated class for the TimeLeftBarComponent component.\r\n *\r\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n * for more info on Angular Components.\r\n */\r\n@Component({\r\n  selector: 'time-left-bar',\r\n  templateUrl: 'time-left-bar.html'\r\n})\r\nexport class TimeLeftBarComponent {\r\n   @Input('text') text: string;\r\n   @Input('percentLeft') percentLeft: number;\r\n   @Input('innerColor') innerColor: string; \r\n  constructor() {}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/time-left-bar/time-left-bar.ts","import { Component, NgZone } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { AuthProvider } from '../../providers/auth/auth';\r\nimport { FirebaseProvider } from '../../providers/firebase/firebase';\r\nimport { GameServiceProvider } from '../../providers/game-service/game-service';\r\nimport { GamestatusProvider } from '../../providers/gamestatus/gamestatus';\r\n\r\n@IonicPage({\r\n  name: 'GamePage'\r\n})\r\n\r\n\r\n@Component({\r\n  selector: 'page-game',\r\n  templateUrl: 'game.html',\r\n})\r\n\r\nexport class GamePage {\r\n  index = [[0, 1, 2], [3, 4, 5], [6, 7, 8]]; // feld zeichen hilfe\r\n  index2 = [0, 1, 2];\r\n  chat = [];\r\n  newMessage;\r\n  timeLeft=30;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public gameService: GameServiceProvider,\r\n    public gameStatus: GamestatusProvider,\r\n    public auth: AuthProvider,\r\n    public zone: NgZone,\r\n    public db: FirebaseProvider) {\r\n    gameStatus.resett();\r\n    gameService.gamePage = this;\r\n    if (typeof this.navParams.get('type') != 'undefined') gameStatus.gameType = this.navParams.get('type');\r\n    else gameStatus.gameType = 2;\r\n    if (gameStatus.gameType == 0) gameStatus.players[1].name = \"Bot\";\r\n    if (gameStatus.gameType == 1) gameStatus.players[1].name = \"Guest2\";\r\n    if (gameStatus.gameType == 2) this.initChat();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.gameStatus.startTimer(30,()=>{\r\n      if(this.gameStatus.timeLeft==0){\r\n        this.gameStatus.stopTimer();\r\n        if(!this.gameService.isGameOver()){\r\n          let pos:any = this.gameService.getRandomTile();\r\n          this.playerClick(pos[0],pos[1],pos[2]);\r\n        }      \r\n      }\r\n    });\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    if(this.gameStatus.gameType == 2) this.db.stopListenToMessages(this.gameStatus.key);\r\n    this.gameStatus.stopTimer();\r\n  }\r\n\r\n  initChat() {\r\n    this.db.newMessages.subscribe((snap) => {\r\n      this.zone.run(() => {// sonst updated die seite nicht immer richtig\r\n        this.chat.push(snap.val());\r\n      });\r\n    }, (err) => {\r\n      alert('initChat: ' + err);\r\n    });\r\n    this.db.startListenToMessages(this.gameStatus.key);\r\n  }\r\n\r\n  isPossibleField(v: number): boolean {\r\n    /* wenn alle felder möglich nichts makieren */\r\n    if (this.gameStatus.nextfield.sort().join(',') === [0, 1, 2, 3, 4, 5, 6, 7, 8].sort().join(',')) return false;\r\n    for (let entry of this.gameStatus.nextfield) {\r\n      if (entry == v) return true\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getClassValue(v: number): number {\r\n    if (this.isPossibleField(v))   return 0;//\"selected noPadding\";\r\n    if(this.gameStatus.won_fields[v]==1) return 1;//\"player1_won noPadding\";\r\n    if(this.gameStatus.won_fields[v]==2) return 2;//\"player2_won noPadding\";\r\n    return -1;// \"noPadding\";\r\n  }\r\n\r\n  getPlayerTurnClass(): string {\r\n    if (this.gameStatus.turn) return \"player1_border\"\r\n    return \"player2_border\";\r\n  }\r\n\r\n  ionViewDidLoad(): void { }\r\n  playerClicked(event):void{\r\n    this.gameService.playerClick(event[0],event[1],event[2]);\r\n  }\r\n  playerClick(x, y, z): void {\r\n    this.gameService.playerClick(x, y, z);\r\n  }\r\n  btnRestartGame(): void {\r\n    if (this.gameStatus.gameType == 0 || this.gameStatus.gameType == 1) this.gameStatus.resett();\r\n    //else iwas wegen mit mp online\r\n  }\r\n\r\n  btnReturn(): void {\r\n    if (this.gameStatus.gameType == 0 || this.gameStatus.gameType == 1) this.gameStatus.resett();\r\n    //else iwas wegen mit mp online\r\n    this.navCtrl.push(\"HomePage\");\r\n  }\r\n  getScore(symbol): number {\r\n    return this.gameStatus.getScore(symbol);\r\n  }\r\n  sendMessage(event): void {\r\n    let enter: number = 13;\r\n    if (event.keyCode == enter && this.newMessage) {\r\n      let messageInfos: any = { name: this.auth.getdisplayName(), message: this.newMessage };\r\n      let key: string = this.gameStatus.key;\r\n      this.db.pushMessage(key,messageInfos);\r\n      this.zone.run(() => { // sonst wird das input feld nicht immer richtig gecleared\r\n        this.newMessage = \"\";\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/game.ts"],"sourceRoot":""}